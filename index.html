<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Octra Quiz</title>
<style>
body {
  font-family: 'Inter', sans-serif;
  background: radial-gradient(circle at top left, #0f0c29, #302b63, #24243e);
  margin: 0; padding: 40px; color: #fff;
}

.container {
  max-width: 900px;
  margin: auto;
  background: rgba(255,255,255,0.05);
  padding: 40px;
  border-radius: 25px;
  backdrop-filter: blur(20px);
  box-shadow: 0 0 40px rgba(0,0,0,0.4);
  border: 1px solid rgba(255,255,255,0.1);
}

h1 { font-size: 32px; font-weight: 700; margin-bottom: 10px; }

#questionBox {
  background: rgba(255,255,255,0.07);
  padding: 25px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.08);
  font-size: 20px;
  margin-bottom: 20px;
}

label {
  display: block;
  background: rgba(255,255,255,0.08);
  padding: 12px;
  margin-top: 12px;
  border-radius: 12px;
  transition: 0.2s;
  border: 1px solid rgba(255,255,255,0.1);
  cursor: pointer;
}

label:hover { background: rgba(255,255,255,0.15); transform: scale(1.02); }

.correct { animation: glow 0.8s; border: 2px solid #0f0; }
.wrong { animation: shake 0.5s; border: 2px solid #f00; }

@keyframes glow {
  0% { box-shadow: 0 0 5px #0f0; }
  50% { box-shadow: 0 0 20px #0f0; }
  100% { box-shadow: 0 0 5px #0f0; }
}

@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  50% { transform: translateX(5px); }
  75% { transform: translateX(-5px); }
  100% { transform: translateX(0); }
}

button {
  padding: 12px 30px;
  font-size: 16px;
  font-weight: 600;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  margin-top: 20px;
}

#nextBtn { background: linear-gradient(45deg, #ffe259, #ffa751); color: #000; }

#warningFlash {
  display: none;
  text-align: center;
  margin-top: 5px;
  font-size: 22px;
  font-weight: bold;
  color: #ff4f4f;
  animation: flash 1s infinite;
}

@keyframes flash { 0% {opacity:1;} 50% {opacity:0;} 100% {opacity:1;} }

.progress-container {
  width: 100%; background: rgba(255,255,255,0.1); border-radius: 20px; margin: 20px 0;
}

.progress-bar {
  width: 0%; height: 20px; background: #ffa751; border-radius: 20px; transition: width 0.5s ease;
}

.result, .points-display {
  margin-top: 20px;
  font-size: 22px;
  font-weight: 700;
  text-align: center;
}
</style>
</head>
<body>
<div class="container">
<h1>Octra Knowledge Quiz</h1>

<div class="progress-container">
  <div class="progress-bar" id="progressBar"></div>
</div>

<form id="quizForm">
  <div class="question" id="questionBox"></div>
  <button type="button" onclick="nextQuestion()" id="nextBtn">Next</button>
</form>

<div id="timerDisplay" style="font-size:20px;text-align:center;margin-top:10px;color:#ffd369;"></div>
<div id="warningFlash">⚠ Hurry up! Last 5 seconds!</div>
<div class="points-display" id="points"></div>
<div class="result" id="result"></div>
</div>

<script>
const questions = [
  { q: "1. What technology does Octra primarily focus on?", options: ["Fully Homomorphic Encryption (FHE)", "General AI Models", "Blockchain Layer 1", "DeFi Platforms"], answer: 0 },
  { q: "2. What does FHE allow computations on?", options: ["Encrypted Data", "Raw Unencrypted Data", "Public Data Only", "Metadata"], answer: 0 },
  { q: "3. Octra aims to build a privacy-focused blockchain by enabling?", options: ["Encrypted Computation", "Advanced NFT minting", "Faster Gas Fees", "AI Predictions"], answer: 0 },
  { q: "4. What database backend does Octra modify?", options: ["IrminDB", "MongoDB", "Firebase", "PostgreSQL"], answer: 0 },
  { q: "5. What type of apps benefit most from Octra tech?", options: ["Privacy-sensitive apps", "Normal Web Games", "Social Media Apps", "Streaming Platforms"], answer: 0 },
  { q: "6. Octra’s execution environment is meant to be?", options: ["Isolated and Secure", "Open and Unrestricted", "Public and Shared", "Cloud-only"], answer: 0 },
  { q: "7. Octra completed a pre-seed round of?", options: ["$4M", "$40M", "$400K", "$10M"], answer: 0 },
  { q: "8. Octra’s computation sandbox uses which format?", options: ["WASM", "EXE", "JAR", "BIN"], answer: 0 },
  { q: "9. Octra’s main mission is to bring?", options: ["Universal Encrypted Compute", "A new DEX", "Faster NFTs", "AI Trading Bots"], answer: 0 },
  { q: "10. Octra is suitable for handling?", options: ["Sensitive Data", "Memes", "GIFs", "Public Tweets"], answer: 0 }
];

let current = 0, score = 0, points = 0, timer, timeLeft = 15;

function loadQuestion() {
  const q = questions[current];
  let html = `<p>${q.q}</p>`;
  q.options.forEach((opt, i) => {
    html += `<label><input type='radio' name='option' value='${i}'> ${opt}</label>`;
  });
  document.getElementById("questionBox").innerHTML = html;

  document.querySelectorAll('input[name="option"]').forEach(opt => {
    opt.disabled = false;
    opt.parentElement.classList.remove("correct", "wrong");

    opt.addEventListener("change", () => {
      const selectedIndex = parseInt(opt.value);

      // Disable all options
      document.querySelectorAll('input[name="option"]').forEach(o => o.disabled = true);

      // Highlight correct and wrong answers
      document.querySelectorAll('input[name="option"]').forEach(o => {
        if (parseInt(o.value) === q.answer) {
          o.parentElement.classList.add("correct");
        } else if (parseInt(o.value) === selectedIndex) {
          o.parentElement.classList.add("wrong");
        }
      });

      // Update score only if correct
      if (selectedIndex === q.answer) { score++; points += 10; }

      // Move to next question after short delay
      setTimeout(() => {
        current++;
        if (current < questions.length) {
          loadQuestion();
        } else {
          document.getElementById("quizForm").style.display = "none";
          document.getElementById("result").innerText = `You scored ${score}/10`;
          document.getElementById("points").innerText = `Total Points: ${points}`;
          document.getElementById("warningFlash").style.display = "none";
        }
      }, 1000);
    });
  });

  updateProgress();
  startTimer();
}

function nextQuestion() {
  const selected = document.querySelector('input[name="option"]:checked');
  if(!selected) return alert("Please select an option!");
}

function startTimer() {
  clearInterval(timer);
  timeLeft = 15;
  document.getElementById("warningFlash").style.display = "none";
  document.getElementById("timerDisplay").innerText = `Time: ${timeLeft}s`;

  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timerDisplay").innerText = `Time: ${timeLeft}s`;

    if(timeLeft === 5) document.getElementById("warningFlash").style.display="block";

    if(timeLeft <= 0) {
      clearInterval(timer);
      const selected = document.querySelector('input[name="option"]:checked');
      if(!selected) {
        // automatically highlight correct answer if none selected
        document.querySelectorAll('input[name="option"]').forEach(o => {
          if(parseInt(o.value) === questions[current].answer) o.parentElement.classList.add("correct");
          o.disabled = true;
        });
      }
      setTimeout(() => {
        current++;
        if (current < questions.length) {
          loadQuestion();
        } else {
          document.getElementById("quizForm").style.display="none";
          document.getElementById("result").innerText=`You scored ${score}/10`;
          document.getElementById("points").innerText=`Total Points: ${points}`;
          document.getElementById("warningFlash").style.display="none";
        }
      }, 1000);
    }
  }, 1000);
}

function updateProgress() {
  const progress = ((current) / questions.length) * 100;
  document.getElementById("progressBar").style.width = progress + "%";
}

window.onload = loadQuestion;
</script>
</body>
</html>
